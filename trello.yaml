openapi: 3.1.0
info:
  title: Trello Proxy API
  description: Прокси API для доступа к Trello. GPT может управлять досками, карточками, списками, участниками и комментариями.
  version: 1.0.0
servers:
  - url: https://mindexecutor-production.up.railway.app
paths:
  /boards:
    get:
      operationId: getBoards
      summary: Получить все доски пользователя
      responses:
        '200':
          description: Список досок
          content:
            application/json:
              schema:
                type: array
                items:
                  type: object
                  properties: {}
  /boards/{boardId}/lists:
    get:
      operationId: getListsOnBoard
      summary: Получить списки на доске
      parameters:
        - name: boardId
          in: path
          required: true
          schema:
            type: string
      responses:
        '200':
          description: Списки на доске
          content:
            application/json:
              schema:
                type: array
                items:
                  type: object
                  properties: {}
  /lists/{listId}/cards:
    get:
      operationId: getCardsInList
      summary: Получить карточки в списке
      parameters:
        - name: listId
          in: path
          required: true
          schema:
            type: string
      responses:
        '200':
          description: Карточки в списке
          content:
            application/json:
              schema:
                type: array
                items:
                  type: object
                  properties: {}
  /cards:
    post:
      operationId: createCard
      summary: Создать карточку
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              required: [name, idList]
              properties:
                name:
                  type: string
                desc:
                  type: string
                idList:
                  type: string
      responses:
        '200':
          description: Карточка создана
          content:
            application/json:
              schema:
                type: object
                properties: {}
  /cards/{cardId}:
    put:
      operationId: updateCard
      summary: Обновить карточку
      parameters:
        - name: cardId
          in: path
          required: true
          schema:
            type: string
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                name:
                  type: string
                desc:
                  type: string
      responses:
        '200':
          description: Карточка обновлена
          content:
            application/json:
              schema:
                type: object
                properties: {}
  /cards/{cardId}/idList:
    put:
      operationId: moveCardToList
      summary: Переместить карточку в другой список
      parameters:
        - name: cardId
          in: path
          required: true
          schema:
            type: string
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              required: [value]
              properties:
                value:
                  type: string
      responses:
        '200':
          description: Карточка перемещена
          content:
            application/json:
              schema:
                type: object
                properties: {}
  /cards/{cardId}/members:
    post:
      operationId: addMemberToCard
      summary: Добавить участника к карточке
      parameters:
        - name: cardId
          in: path
          required: true
          schema:
            type: string
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              required: [value]
              properties:
                value:
                  type: string
      responses:
        '200':
          description: Участник добавлен
          content:
            application/json:
              schema:
                type: object
                properties: {}
    delete:
      operationId: removeMemberFromCard
      summary: Удалить участника с карточки
      parameters:
        - name: cardId
          in: path
          required: true
          schema:
            type: string
        - name: memberId
          in: query
          required: true
          schema:
            type: string
      responses:
        '200':
          description: Участник удалён
          content:
            application/json:
              schema:
                type: object
                properties: {}
  /cards/{cardId}/actions/comments:
    post:
      operationId: commentOnCard
      summary: Добавить комментарий к карточке
      parameters:
        - name: cardId
          in: path
          required: true
          schema:
            type: string
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              required: [text]
              properties:
                text:
                  type: string
      responses:
        '200':
          description: Комментарий добавлен
          content:
            application/json:
              schema:
                type: object
                properties: {}
  /proxy/trello:
    post:
      operationId: proxyTrelloRequest
      summary: Выполнить произвольный запрос к Trello API через прокси
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              required: [method, endpoint]
              properties:
                method:
                  type: string
                endpoint:
                  type: string
                params:
                  type: object
                data:
                  type: object
      responses:
        '200':
          description: Ответ от Trello API
          content:
            application/json:
              schema:
                type: object
                properties: {}
